<div data-ng-controller="HeaderCtrl">

  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">Aurea - <small>{{global.title || 'un registro elettronico aperto'}}</small></a>
      </div>

      <div class="collapse navbar-collapse" id="menu">
        <ul class="nav navbar-nav navbar-right">
          <li data-ng-hide="global.isLoggedin()"><a href="/#!/login">Login</a></li>
          <li class="dropdown" data-ng-show="global.isLoggedin()">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">{{global.user.name}} <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="/#!/logout">Logout</a></li>
              <li><a href="/#!/utenti/{{global.user._id}}">Profilo</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="btn-group pull-right">
    <button type="button" class="btn btn-default" data-ng-repeat="action in global.actions" data-ng-click="action.func()">
      {{action.name}}
    </button>
  </div>

  <ol class="breadcrumb" data-ng-show="global.isLoggedin()">

    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        {{ global.getSchool().name || 'Seleziona la scuola'}} <b class="caret"></b>
      </a>
      <ul class="dropdown-menu" role="menu">
        <li data-ng-repeat="school in global.getSchools()" data-ng-click="global.setSchool(school)">
          <a href="#">{{ school.name }}</a>
        </li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        {{ global.getComplex().name || 'Seleziona il plesso'}} <b class="caret"></b>
      </a>
      <ul class="dropdown-menu" role="menu">
        <li data-ng-repeat="complex in global.getComplexes()" data-ng-click="global.setComplex(complex)">
          <a href="#">{{ complex.name }}</a>
        </li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        {{ global.getAcademicYear().name || 'Seleziona l\'anno accademico'}} <b class="caret"></b>
      </a>
      <ul class="dropdown-menu" role="menu">
        <li data-ng-repeat="academicYear in academicYears" data-ng-click="global.setAcademicYear(academicYear)">
          <a href="">{{ academicYear.name }}</a>
        </li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        {{ global.getSchoolClass().name || 'Seleziona la classe'}} <b class="caret"></b>
      </a>
      <ul class="dropdown-menu" role="menu">
        <li data-ng-repeat="schoolClass in schoolClasses" data-ng-click="global.setSchoolClass(schoolClass)">
          <a href="">{{ schoolClass.name }}</a>
        </li>
      </ul>
    </li>

  </ol>

</div>