<section ng-controller="UsersCtrl" ng-init="find()" flex layout="column" layout-fill>

  <md-content class="md-padding" md-scroll-y flex>
    <div layout="column" layout-fill class="content">
      <div flex layout="column">
        <section class="md-whiteframe-z1">
          <md-list>
            <md-item ng-repeat="user in users">
              <md-item-content class="item-content">
                <div class="md-tile-content" ng-click="goToViewUser(user)">
                  <h3 class="item-content-text">
                    <i class="fa item-content-icon" ng-class="{
                    'fa-graduation-cap': user.role == 'student',
                    'fa-home': user.role == 'parent',
                    'fa-briefcase': user.role == 'teacher',
                    'fa-user': user.role == 'manager',
                    'fa-tachometer': user.role == 'admin'
                    }"></i> {{user.name}}
                  </h3>
                </div>
                <div class="md-tile-right">
                  <md-button class="icon-button" ng-click="goToEditUser(user)">
                    <i class="fa fa-pencil"></i>
                    <md-tooltip>Modifica</md-tooltip>
                  </md-button>
                  <md-button class="icon-button" as-confirmed-click="remove(student)"
                             as-confirm-message="Sicuro di voler eliminare questo utente?">
                    <i class="fa fa-trash"></i>
                    <md-tooltip>Cancella</md-tooltip>
                  </md-button>
                </div>
              </md-item-content>
              <md-divider ng-if="!$last"></md-divider>
            </md-item>
          </md-list>
        </section>
      </div>
    </div>
  </md-content>

  <md-button class="md-fab md-primary add-button" ng-click="goToCreateUser()">
    <i class="fa fa-plus"></i>
    <md-tooltip>Aggiungi</md-tooltip>
  </md-button>

</section>